
<!doctype html>
<html lang="zh-cmn-Hans" class="ua-windows ua-webkit">
<head>
    <meta charset="utf-8">
    <title>电视剧 - 土豪去哪</title>
    <meta name="description" content="tuhaoquna.com 土豪去哪是国内独树一帜的影视站点，资源全面，设计优雅，毫无广告，极佳的用户体验，是下载电影、下载字幕、观看影片最佳网站。">
    <meta name="keywords" content="土豪去哪,高清电影,蓝光原盘,3D电影,1080p电影,高清电影下载,蓝光原盘下载,最新电影,在线电影,电影字幕,在线影评,影评,在线电影,无广告电影">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="renderer" content="webkit">
    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
    <link href="/css/main.css" rel="stylesheet" type="text/css" media="all" />
    <link href="/css/theme.css" rel="stylesheet" type="text/css" media="all" />
    <link href="/css/customv.css" rel="stylesheet" type="text/css" media="all" />
    <link rel="icon" href="/favicon.ico" />
</head>
<body>
    <div class="nav-container ">
        <div class="bar bar--sm visible-xs">
            <div class="container">
                <div class="row">
                    <div class="col-xs-3 col-sm-2">
                        <a href="/">
                            <img class="logo logo-dark" alt="logo" src="/img/logo-dark.png" />
                            <img class="logo logo-light" alt="logo" src="/img/logo-light.png" />
                        </a>
                    </div>
                </div>
            </div>
        </div>
        <div class="background-overlay  hidden-xs hidden-sm"></div>
        <nav class="bar bar-2 hidden-xs bar--absolute bar--transparent" id="menu1">
            <div class="container">
                <div class="row">
                    <div class="col-md-2 hidden-xs hidden-sm">
                        <div class="bar__module">
                            <a href="/">
                                <img class="logo logo-dark" alt="logo" src="/img/logo-dark.png" />
                                <img class="logo logo-light" alt="logo" src="/img/logo-light.png" />
                            </a>
                        </div>
                    </div>
                    <div class="col-md-8">
                        <div class="bar__module">
                            <ul class="menu-horizontal">
                                <li class="dropdown">
                                    <a href="/movie.html">
                                        <span class="dropdown__trigger">电影</span>
                                    </a>
                                </li>
                                <li class="dropdown">
                                    <a href="/tvshow.html">
                                        <span class="dropdown__trigger">电视剧</span>
                                    </a>
                                </li>
                                <li>
                                    <a href="/search.html">
                                        <i class="stack-search"></i>
                                    </a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </nav>
    </div>

    <div class="main-container">
        <section class="imagebg bg--dark" style="padding-bottom: 3em">
            <div class="background-image-holder" style="opacity: 1;height: 700px;">
                <img id="background" alt="background" src="">
            </div>
            <div class="container">
                <div class="row">
                    <div class="col-md-12 col-sm-12 col-xs-12  hidden-sm hidden-xs" style="margin-bottom: 2em;background: rgba(37, 37, 37, 0.32);border-radius: 10px;">
                        <div class="container">
                            <div class="row">
                                <div class="jumbotron masthead">
                                    <div class="typebox">
                                        <dl class="prel hidden-sm hidden-xs">
                                            <dt>影视类型:</dt>
                                            <dd>
                                                <a name="par_type" style="cursor:pointer" class="tag-sm tag-type" data-val="不限">不限</a>
                                                <a name="par_type" style="cursor:pointer" data-val="剧情">剧情</a>
                                                <a name="par_type" style="cursor:pointer" data-val="爱情">爱情</a>
                                                <a name="par_type" style="cursor:pointer" data-val="喜剧">喜剧</a>
                                                <a name="par_type" style="cursor:pointer" data-val="科幻">科幻</a>
                                                <a name="par_type" style="cursor:pointer" data-val="动作">动作</a>
                                                <a name="par_type" style="cursor:pointer" data-val="悬疑">悬疑</a>
                                                <a name="par_type" style="cursor:pointer" data-val="犯罪">犯罪</a>
                                                <a name="par_type" style="cursor:pointer" data-val="恐怖">恐怖</a>
                                                <a name="par_type" style="cursor:pointer" data-val="战争">战争</a>
                                                <a name="par_type" style="cursor:pointer" data-val="文艺">文艺</a>
                                                <a name="par_type" style="cursor:pointer" data-val="黑色">黑色</a>
                                                <a name="par_type" style="cursor:pointer" data-val="传记">传记</a>
                                                <a name="par_type" style="cursor:pointer" data-val="情色">情色</a>
                                                <a name="par_type" style="cursor:pointer" data-val="音乐">音乐</a>
                                                <a name="par_type" style="cursor:pointer" data-val="家庭">家庭</a>
                                                <a name="par_type" style="cursor:pointer" data-val="纪录">纪录</a>
                                                <a name="par_type" style="cursor:pointer" data-val="奇幻">奇幻</a>
                                                <a name="par_type" style="cursor:pointer" data-val="动画">动画</a>
                                                <a name="par_type" style="cursor:pointer" data-val="其它">其它</a>
                                            </dd>
                                        </dl>
                                        <dl class="prel hidden-sm hidden-xs">
                                            <dt>制片地区:</dt>
                                            <dd>
                                                <a name="par_country" style="cursor:pointer" class="tag-sm bg--primary" data-val="不限">不限</a>
                                                <a name="par_country" style="cursor:pointer" data-val="大陆">大陆</a>
                                                <a name="par_country" style="cursor:pointer" data-val="美国">美国</a>
                                                <a name="par_country" style="cursor:pointer" data-val="香港">香港</a>
                                                <a name="par_country" style="cursor:pointer" data-val="台湾">台湾</a>
                                                <a name="par_country" style="cursor:pointer" data-val="日本">日本</a>
                                                <a name="par_country" style="cursor:pointer" data-val="韩国">韩国</a>
                                                <a name="par_country" style="cursor:pointer" data-val="英国">英国</a>
                                                <a name="par_country" style="cursor:pointer" data-val="法国">法国</a>
                                                <a name="par_country" style="cursor:pointer" data-val="德国">德国</a>
                                                <a name="par_country" style="cursor:pointer" data-val="意大利">意大利</a>
                                                <a name="par_country" style="cursor:pointer" data-val="西班牙">西班牙</a>
                                                <a name="par_country" style="cursor:pointer" data-val="印度">印度</a>
                                                <a name="par_country" style="cursor:pointer" data-val="泰国">泰国</a>
                                                <a name="par_country" style="cursor:pointer" data-val="俄罗斯">俄罗斯</a>
                                                <a name="par_country" style="cursor:pointer" data-val="伊朗">伊朗</a>
                                                <a name="par_country" style="cursor:pointer" data-val="加拿大">加拿大</a>
                                                <a name="par_country" style="cursor:pointer" data-val="澳大利亚">澳大利亚</a>
                                                <a name="par_country" style="cursor:pointer" data-val="爱尔兰">爱尔兰</a>
                                                <a name="par_country" style="cursor:pointer" data-val="瑞典">瑞典</a>
                                                <a name="par_country" style="cursor:pointer" data-val="巴西">巴西</a>
                                                <a name="par_country" style="cursor:pointer" data-val="丹麦">丹麦</a>
                                                <a name="par_country" style="cursor:pointer" data-val="其它">其它</a>
                                            </dd>
                                        </dl>
                                        <dl class="prel hidden-sm hidden-xs">
                                            <dt>上映年份:</dt>
                                            <dd>
                                                <a name="par_year" style="cursor:pointer" class="tag-sm tag-size" data-val="不限">不限</a>
                                                <a name="par_year" style="cursor:pointer" data-val="2017">2017</a>
                                                <a name="par_year" style="cursor:pointer" data-val="2016">2016</a>
                                                <a name="par_year" style="cursor:pointer" data-val="2015">2015</a>
                                                <a name="par_year" style="cursor:pointer" data-val="2014">2014</a>
                                                <a name="par_year" style="cursor:pointer" data-val="2013">2013</a>
                                                <a name="par_year" style="cursor:pointer" data-val="2012">2012</a>
                                                <a name="par_year" style="cursor:pointer" data-val="2011">2011</a>
                                                <a name="par_year" style="cursor:pointer" data-val="2010">2010</a>
                                                <a name="par_year" style="cursor:pointer" data-val="00年代">00年代</a>
                                                <a name="par_year" style="cursor:pointer" data-val="90年代">90年代</a>
                                                <a name="par_year" style="cursor:pointer" data-val="80年代">80年代</a>
                                                <a name="par_year" style="cursor:pointer" data-val="70年代">70年代</a>
                                                <a name="par_year" style="cursor:pointer" data-val="更早">更早</a>
                                            </dd>
                                        </dl>
                                        <dl class="prel type--bold">
                                            <dt>影视排序:</dt>
                                            <dd>
                                                <a name="par_order" style="cursor:pointer" class="tag-sm tag-picture2" data-val="1">影评数量</a>
                                                <a name="par_order" style="cursor:pointer" data-val="2">想看人数</a>
                                                <a name="par_order" style="cursor:pointer" data-val="3">看过人数</a>
                                                <a name="par_order" style="cursor:pointer" data-val="4">在看人数</a>
                                                <a name="par_order" style="cursor:pointer" data-val="5">短评数量</a>
                                                <a name="par_order" style="cursor:pointer" data-val="6">评分人数</a>
                                                <a name="par_order" style="cursor:pointer" data-val="7">豆瓣评分</a>
                                                <a name="par_order" style="cursor:pointer" data-val="8">上映时间</a>
                                                <a name="par_order" style="cursor:pointer" data-val="9">更新时间</a>
                                            </dd>
                                        </dl>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-12 text-center">
                        <div class="masonry">
                        </div>
                    </div>
                    <div id="page" class="text-center hidden-sm hidden-xs">
                    </div>
                </div>
            </div>
        </section>
    </div>
    <section class="space--xs imagebg" style="background-color: #353535;">
        <div class="container">
            <div class="row">
                <div class="cta cta--horizontal text-center-xs">
                    <div class="col-sm-4" style="color: #efe"></div>
                    <div class="col-sm-5">
                        <p class="lead" style="color: #efe">加入土豪去哪官方群，与广大影迷交流</p>
                    </div>
                    <div class="col-sm-3 text-right text-center-xs">
                        <a class="btn btn--primary-1 type--uppercase" target="_blank" href="//shang.qq.com/wpa/qunwpa?idkey=046162de5a3e4a002806620e4d3b73cdb21518ee2bb2dba5e87edc47f09cb234">
                            <span class="btn__text">立即加入QQ群</span>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <footer class="space--sm footer-2 bg--dark ">
        <div class="container">
            <div class="row">
                <div class="col-sm-6">
                    <script type="text/javascript">
                        var cnzz_protocol = (("https:" == document.location.protocol) ? " https://" : " http://");
                        document.write(unescape("%3Cspan id='cnzz_stat_icon_1262999256'%3E%3C/span%3E%3Cscript src='" + cnzz_protocol + "s13.cnzz.com/z_stat.php%3Fid%3D1262999256%26show%3Dpic' type='text/javascript'%3E%3C/script%3E"));
                    </script>
                    <span class="type--fine-print">
                        &copy;
                        <span class="update-year"></span>tuhaoquna.com
                    </span>
                </div>
            </div>
        </div>
    </footer>

    <script id="filmListTpl" type="text/html">
        {{# for (var i = 0; i < d.length; i++) { }}
        <div class="masonry__item col-md-3 col-sm-6 col-xs-6" data-masonry-filter="{{d[i].Family==2?"电视剧":"电影"}}">
            <a href="/subject/{{d[i].Guid}}.html" target="_blank" class="block text-block">
                <figure class="effect-sadie">
                    <img class="poster" family="{{d[i].Family==2?"tvshow":"movie"}}" alt="{{d[i].Name}}" src="{{d[i].Poster}}" />
                    <figcaption>
                        <h2>
                            {{d[i].Name}}
                            {{# if(d[i].Year){ }}
                            <br>
                            <span>{{d[i].Year}}</span>
                            {{# } }}
                        </h2>
                        <p>
                            <span property="v:summary" style="word-wrap:break-word;">
                                {{d[i].Describe}}
                            </span>
                        </p>
                        <h5>
                            {{d[i].Name}}
                            {{# if(d[i].Year){ }}
                            <span class="type--fine-print">({{d[i].Year}})</span>
                            {{# } }}
                            {{# if(d[i].Score>0){ }}
                            <span class="tag-sm tag-picture2">{{d[i].Score.toFixed(1)}}</span>
                            {{# } }}
                        </h5>
                        {{# if(d[i].Score>0){ }}
                        <em>{{d[i].Score.toFixed(1)}}</em>
                        {{# } }}
                    </figcaption>
                </figure>
            </a>
        </div>
        {{# } }}
    </script>

    <script id="pageTpl" type="text/html">
        <ul class="tsc_pagination tsc_paginationA tsc_paginationA06">
            {{# if(page>1){ }}
            <li><a class="prev" data-page="{{page-1}}" style="cursor:pointer">&nbsp;</a></li>
            {{# } }}
            {{# if(page>=5){ }}
            <li><a class="num" data-page="1" style="cursor:pointer">首页</a></li>
            <li><a class="num">...</a></li>
            {{# for (var i = page-2; i <= ((page-2+5)>totalPage?totalPage:(page-2+5)); i++) { }}
            {{# if(i==page){ }}
            <li class="active"><span class="current">{{i}}</span></li>
            {{# } else { }}
            <li><a class="num" data-page="{{i}}" style="cursor:pointer">{{i}}</a></li>
            {{# } }}
            {{# } }}
            {{# } else { }}
            {{# for (var i = 1; (i <= 5 && i<= totalPage); i++) { }}
            {{# if(i==page){ }}
            <li class="active"><span class="current">{{i}}</span></li>
            {{# } else { }}
            <li><a class="num" data-page="{{i}}" style="cursor:pointer">{{i}}</a></li>
            {{# } }}
            {{# } }}
            {{# } }}
            {{# if(totalPage>page){ }}
            <li><a class="next" data-page="{{page+1}}" style="cursor:pointer">&nbsp;</a></li>
            <li><a class="end" data-page="{{totalPage}}" style="cursor:pointer">...{{totalPage}}</a></li>
            {{# } }}

        </ul>
    </script>

    <script>
        (function () {
            var bp = document.createElement('script');
            var curProtocol = window.location.protocol.split(':')[0];
            if (curProtocol === 'https') {
                bp.src = 'https://zz.bdstatic.com/linksubmit/push.js'
            } else {
                bp.src = 'http://push.zhanzhang.baidu.com/push.js'
            }
            var s = document.getElementsByTagName("script")[0];
            s.parentNode.insertBefore(bp, s)
        })();
    </script>
    <script src="/js/jquery-3.1.1.min.js"></script>
    <script src="/layui/layui.all.js"></script>
    <script type="text/javascript" src="js/common.js"></script>
    <script src="/js/masonry.pkgd.min.js"></script>
    <script src="/js/imagesloaded.pkgd.min.js"></script>
    <script type="text/javascript">
        var page = 1, pageSize = 20, maxPage = 5, startPage = 1, totalPage = 1;
        var isLoad = false;
        var loadIndex;
        var masonry;
        var orderby = 1, family = 2, genre = "不限", country = "不限", year = "不限", state = "不限";

        $(function () {
            var r_background = Math.round(Math.random() * 31 + 1);
            console.log(r_background);
            $(".ackground-image-holder").css("background", "url(/background/background" + r_background + ".jpg)");
            $(".background-image-holder").css("background", "url(/background/background" + r_background + ".jpg)");
            $("#background").attr("src", "/background/background" + r_background + ".jpg");

            masonry = $(".masonry").masonry({
                itemSelector: ".masonry__item",
                percentPosition: true
            });

            $(window).scroll(function () {
                var doc_height = $(document).height();
                var scroll_top = $(document).scrollTop();
                var window_height = $(window).height();
                if (scroll_top + window_height >= doc_height) {
                    if (!isLoad && maxPage > startPage && totalPage > page) {
                        page++;
                        startPage++;
                        getFilm();
                    }
                }
            });

            $("#page").on("click", "a", function () {
                var t_page = $(this);
                var page_str = t_page.attr("data-page");
                if (page_str) {
                    $(document).scrollTop(0);
                    page = parseInt(page_str);
                    startPage = 1;
                    getFilm();
                }
            });

            $("[name='par_order']").on("click", function () {
                $("[name='par_order']").removeClass("tag-sm tag-picture2");
                orderby = parseInt($(this).attr("data-val"));
                $(this).addClass("tag-sm tag-picture2");
                page = 1, startPage = 1, totalPage = 1;
                getFilm();
            });

            $("[name='par_year']").on("click", function () {
                $("[name='par_year']").removeClass("tag-sm tag-size");
                year = $(this).attr("data-val");
                $(this).addClass("tag-sm tag-size");
                page = 1, startPage = 1, totalPage = 1;
                getFilm();
            });

            $("[name='par_type']").on("click", function () {
                $("[name='par_type']").removeClass("tag-sm tag-type");
                genre = $(this).attr("data-val");
                $(this).addClass("tag-sm tag-type");
                page = 1, startPage = 1, totalPage = 1;
                getFilm();
            });

            $("[name='par_country']").on("click", function () {
                $("[name='par_country']").removeClass("tag-sm bg--primary");
                country = $(this).attr("data-val");
                $(this).addClass("tag-sm bg--primary");
                page = 1, startPage = 1, totalPage = 1;
                getFilm();
            });

            getFilm();

        });

        function getFilm() {
            var sendParms = {
                orderby: orderby,
                family: family,
                genre: genre,
                country: country,
                year: year,
                state: state,
                page: page,
                pageSize: pageSize,
            };

            Ajax({
                url: "GetFilm",
                type: 'post',
                data: sendParms,
                async: true,
                timeout: 10000,
                dataType: 'json',
                beforeSend: function () {
                    isLoad = true;
                },
                success: function (outData) {
                    if (outData.StatusCode == 200) {
                        totalPage = outData.Data.totalPage;
                        var list = outData.Data.list;
                        var filmListTpl = document.getElementById("filmListTpl").innerHTML;
                        layui.laytpl(filmListTpl).render(list, function (html) {
                            var item = $(html);
                            if (startPage == 1) {
                                masonry.masonry('remove', $(".masonry__item"));
                                masonry.append(item).masonry('appended', item);
                            } else {
                                masonry.append(item).masonry('appended', item);
                            }
                        });
                        isLoad = false;
                        setPage();
                    } else {
                        layer.msg(outData.Message, { time: 1000 });
                    }

                    $(".poster").imagesLoaded()
                        .progress(function (instance, image) {
                            masonry.masonry();
                        });
                },
                complete: function () {
                },
                error: function () {
                }
            });
        }

        function setPage() {
            var pageTpl = document.getElementById("pageTpl").innerHTML;
            layui.laytpl(pageTpl).render(page,function (html) {
                $("#page").html(html);
            });
        }
    </script>
</body>
</html>
